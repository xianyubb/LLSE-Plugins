# 基于某不知名 TS 高手的死亡回溯下的新版本死亡回溯

## 插件安装

本插件基于 `LL3 LSE` 开发 BDS 版本为 1.20.5X 不过通过脚本插件的向下兼容 相信可以在支持 `LLSE` 的服务器上运行

只需要将下载的 `recover.js` 扔进`path/to/bds/plugins`文件夹下 LSE 会先迁移插件 请重新启动服务器 LLSE 直接加载即可

## 插件功能

若玩家在所定义的城市 则每一秒都会更新玩家所在位置 若玩家死亡 则停止更新 停止更新时间由配置项 CD 决定

使用命令即可回到记录的位置（由于原插件需求，目前只有命令方块或者 op 可以执行该命令）

## 插件配置

在`path/to/bds/plugins`文件夹下会生成同名文件夹 进入文件夹即可发现两个 json 后缀文件

1. `data.json`即数据文件 非必要不更改

2. `config.json`即配置文件 如下 （真正的 json 不会有注释出现）

```jsonc
{
  "cd": 10, // 死亡后在cd内不会更新玩家的位置 单位：秒

  "city": [
    // 城市 只有玩家在城市内才可以更改位置，若超出城市则不会更新位置

    {
      "name": "city1", // 城市名 可以随意更改，甚至删除

      "pos": [0, 0, 0, 0], // 城市中心点坐标 依次对应 x y z dim(维度)

      "Radius": 1000 // 城市半径
    },

    {
      // 如果只有一个城市 可以将包括上一行的逗号 以及下面三行的所有内容删除

      "name": "city2",

      "pos": [0, 0, 0, 0],

      "Radius": 1000
    } // 也可以添加更多城市
  ]
}
```

## 插件命令

**recover <player>**

player 为必选参数 参数类型为玩家选择器

## 插件点子

北极狐同学

[URL unfurl="true"]https://www.minebbs.com/members/super_.21392/[/URL]

### Tips : 源码是 TS
